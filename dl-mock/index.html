<!DOCTYPE html>
<html>

<head>
    <!-- Adding the FabricJS library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.6.2/fabric.min.js">
    </script>
</head>

<body>
    <div style="display: flex">
        <a href="../pan-mock/index.html">PAN</a> &nbsp;|&nbsp;
        <a href="../ad-mock/index.html">Aadhar</a> &nbsp;|&nbsp;
        <a href="../dl-mock/index.html">Driving License</a> &nbsp;|&nbsp;
        <a href="../voter-mock/index.html">Voter Id</a>
    </div>
    <div id="wrapper" style="display: flex;flex-direction: row;">

        <div style="display: flex;flex-direction: column;width: 200px;margin-left: 10px;margin-right: 10px; ">

            <span>Selected</span>
            <textarea id="selectd" onkeyup="onselectedupdate()"></textarea>
            <span>Image</span>
            <input id="pic" disabled>
            <a href="#" id="download" onclick="saveImage()">Download Photo</a></div>
        <div>
            <canvas id="canvas" width="324" height="204" style="border:0px solid #000000">     </canvas>

        </div>


        <div style="margin-left: 10px;margin-right: 10px;">
            <div style="width: 300px; height: 300px; overflow: hidden;">
                <video style="width: 100%;height:100%;"></video>
            </div>
            <canvas style="display: none;" id="videoImg"></canvas>
            <br />
            <button id="newphoto">Take A Photo</button>
            <button id="download1" disabled="disabled" style="display: none;">Download Photo</button>

        </div>
    </div>

    <!-- <button onclick="exportd()">export</button>

    <button onclick="addText()">Add Text</button>
    <button onclick="AddImage()">Add Image</button>
    <button onclick="clone()">Clone</button> -->

    <script>
        var d = '{\"version\":\"3.6.2\",\"objects\":[{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":76,\"top\":33.45,\"width\":103.84,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.65,\"scaleY\":0.65,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"MH05 123112312\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":84,\"top\":43,\"width\":97.6,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.66,\"scaleY\":0.66,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"10-06-2035 (NT)\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":208,\"top\":32.69,\"width\":64.56,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.7,\"scaleY\":0.7,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"11-06-2015\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":131,\"top\":122.1,\"width\":64.56,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.67,\"scaleY\":0.67,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"11-08-1989\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":50,\"top\":139,\"width\":94.51,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.56,\"scaleY\":0.56,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"ENTER NAME\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":50,\"top\":147,\"width\":78.17,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.56,\"scaleY\":0.56,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"SDW NAME\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":32,\"top\":156,\"width\":65.35,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.56,\"scaleY\":0.45,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"ADDRESS\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":29,\"top\":175,\"width\":42,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.56,\"scaleY\":0.56,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"421301\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":76,\"top\":191,\"width\":112.4,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.56,\"scaleY\":0.56,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"ID & SIGN AUTH\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":100,\"top\":96.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.58,\"scaleY\":0.58,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":137,\"top\":96.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.59,\"scaleY\":0.53,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":100,\"top\":104.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.58,\"scaleY\":0.58,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":137,\"top\":104.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.59,\"scaleY\":0.53,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":100,\"top\":112.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.58,\"scaleY\":0.58,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"text\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":137,\"top\":113.1,\"width\":4.66,\"height\":15.82,\"fill\":\"black\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.59,\"scaleY\":0.53,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"text\":\"-\",\"fontSize\":\"14\",\"fontWeight\":\"bold\",\"fontFamily\":\"Calibri\",\"fontStyle\":\"normal\",\"lineHeight\":1.16,\"underline\":false,\"overline\":false,\"linethrough\":false,\"textAlign\":\"left\",\"textBackgroundColor\":\"\",\"charSpacing\":0,\"styles\":{}},{\"type\":\"image\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":298,\"top\":137.34,\"width\":132.28,\"height\":90.49,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.15,\"scaleY\":0.28,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"\",\"cropX\":0,\"cropY\":0,\"src\":\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3\/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ\/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e\/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b\/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC\/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V\/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO\/Mn\/m8R+h6rYSUb3ekokRY6f\/YukArN979jcW+V\/S8g0eT\/N3VN3kTqWbQ428m9\/8k0P\/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc\/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4\/MNCFwg59oWVeYhkzgN\/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW\/n+uMPFiRwHB2I7ih8ciHFxIkd\/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3\/zMDz8usXC3ddaHBj1GHj\/As08fwTS7Kt1HBTmyN29vdwAw+\/wbwLVOJ3uAD1wi\/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=\",\"filters\":[]},{\"type\":\"image\",\"version\":\"3.6.2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":266,\"top\":62,\"width\":132.28,\"height\":90.49,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.39,\"scaleY\":0.78,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"\",\"cropX\":0,\"cropY\":0,\"src\":\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3\/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ\/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e\/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b\/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC\/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V\/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO\/Mn\/m8R+h6rYSUb3ekokRY6f\/YukArN979jcW+V\/S8g0eT\/N3VN3kTqWbQ428m9\/8k0P\/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc\/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4\/MNCFwg59oWVeYhkzgN\/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW\/n+uMPFiRwHB2I7ih8ciHFxIkd\/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3\/zMDz8usXC3ddaHBj1GHj\/As08fwTS7Kt1HBTmyN29vdwAw+\/wbwLVOJ3uAD1wi\/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=\",\"filters\":[]}],\"backgroundImage\":{\"type\":\"image\",\"version\":\"3.6.2\",\"originX\":\"middle\",\"originY\":\"middle\",\"left\":162,\"top\":102,\"width\":543,\"height\":339,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":4,\"scaleX\":0.6,\"scaleY\":0.6,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"\",\"cropX\":0,\"cropY\":0,\"src\":\".\/assets\/DL.png\",\"filters\":[]}}';
        //Create a new instance of Canvas
        var canvas = new fabric.Canvas("canvas");
        canvas.on({
            'selection:updated': HandleElement,
            'selection:created': HandleElement
        });
        var sel = {};

        function HandleElement(obj) {
            sel = obj;
            document.getElementById("selectd").value = obj.target.text;

        }

        function onselectedupdate() {
            var object = canvas.getActiveObject();
            object.set("text", document.getElementById("selectd").value.toUpperCase())
            canvas.renderAll();
        }

        fabric.Image.fromURL('./assets/DL.png', img => {
            img.top = 10;
            img.left = 10;
            let scaleRatio = Math.min(canvas.width / img.width, canvas.height / img.height);

            canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas), {
                scaleX: scaleRatio,
                scaleY: scaleRatio,
                left: canvas.width / 2,
                top: canvas.height / 2,
                originX: 'middle',
                originY: 'middle'
            });
            canvas.renderAll();
        });
        loadCanvas(d);

        function exportd() {
            console.log(JSON.stringify(canvas))
        }

        function loadCanvas(d) {
            canvas.clear();
            canvas.loadFromJSON(d, canvas.renderAll.bind(canvas), function(o, object) {
                // object.set('selectable', false);

                object.setControlsVisibility({
                    mt: false,
                    mb: false,
                    ml: false,
                    mr: false,
                    bl: false,
                    br: false,
                    tl: false,
                    tr: false,
                    mtr: false,
                });

                object.lockMovementX = true
                object.lockMovementY = true

                // making sure to render canvas at the end
                canvas.renderAll();

                // and checking if object   's "name" is preserved

            });
        }
    </script>


    <script src="./video.js">
    </script>

    <script>
        function onupdate() {
            var json = JSON.parse(JSON.stringify(canvas));
            if (document.getElementById("pic").value != '') {
                debugger
                json.objects[15].src = document.getElementById("pic").value;
                json.objects[16].src = document.getElementById("pic").value;
            }
            loadCanvas(json);
        }

        function saveImage(e) {


            document.querySelector('#canvas').toBlob(function(blob) {
                var link = document.createElement('a');
                link.download = 'DL.png';
                link.setAttribute('href', URL.createObjectURL(blob));
                link.dispatchEvent(new MouseEvent('click'));

            }, 'image/jpeg', 1);

        }

        function addText() {
            var text = new fabric.Text('Text', {
                fill: 'black',
                fontSize: '14',
                fontWeight: 'bold',
            });
            canvas.add(text);
        }

        function clone() {
            var object = fabric.util.object.clone(canvas.getActiveObject());
            object.set("top", object.top + 5);
            object.set("left", object.left + 5);
            canvas.add(object);
        }



        function addImage() {
            var text = new fabric.Text('PRATIK PRAKASH NAIK', {
                fill: 'black',
                fontSize: '14',
                fontWeight: 'bold',
            });
            canvas.add(text);
        }
    </script>

</body>


</html>